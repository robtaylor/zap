# MakeFile for building Zed under RISC OS
# 13-Nov-04 15:52
# (c) Christian Ludlam

OBJS  = o.main o.error o.loadsave o.strings o.fontwin o.editwin o.logmem o.drag o.ops
LIBS  = OSLib:o.oslib32 C:o.stubs C:o.eventlib

CC    = cc -IOSLib: -apcs 3/32bit -zpq512
COPTS = -g -Ospace -throwback -depend !Depend -DLOGMEM
LD    = link
LOPTS = -debug

# default target
<Zed$Dir>.!RunImage: $(OBJS)
	 $(LD) $(LOPTS) -o $@ $(OBJS) $(LIBS)
	 SetType $@ ff8

clean:;	IfThere o.* Then Wipe o.* F~V~C
	Remove <Zed$Dir>.!RunImage


.SUFFIXES:	.o .c

.c.o:;	$(CC) $(COPTS) -c -o $@ $<

# Dynamic dependencies:
o.logmem:	c.logmem
o.drag:	c.drag
o.drag:	h.logmem
o.drag:	C:h.kernel
o.drag:	OSLib:oslib.h.os
o.drag:	OSLib:oslib.h.types
o.drag:	OSLib:oslib.h.oscore32
o.drag:	OSLib:oslib.h.osf32
o.drag:	OSLib:oslib.h.wimp
o.drag:	OSLib:oslib.h.osspriteop
o.drag:	OSLib:oslib.h.font
o.drag:	OSLib:oslib.h.wimp32
o.drag:	OSLib:oslib.h.toolbox
o.drag:	OSLib:oslib.h.messagetrans
o.drag:	OSLib:oslib.h.window
o.drag:	OSLib:oslib.h.keyboardshortcut
o.drag:	OSLib:oslib.h.gadget
o.drag:	h.event
o.strings:	c.strings
o.error:	c.error
o.error:	h.logmem
o.error:	OSLib:oslib.h.wimp
o.error:	OSLib:oslib.h.types
o.error:	OSLib:oslib.h.os
o.error:	OSLib:oslib.h.oscore32
o.error:	OSLib:oslib.h.osf32
o.error:	OSLib:oslib.h.osspriteop
o.error:	OSLib:oslib.h.font
o.error:	OSLib:oslib.h.wimp32
o.error:	OSLib:oslib.h.hourglass
o.error:	OSLib:oslib.h.messagetrans
o.error:	OSLib:oslib.h.toolbox
o.error:	h.error
o.error:	h.main
o.main:	c.main
o.main:	h.logmem
o.main:	C:h.kernel
o.main:	OSLib:oslib.h.wimp
o.main:	OSLib:oslib.h.types
o.main:	OSLib:oslib.h.os
o.main:	OSLib:oslib.h.oscore32
o.main:	OSLib:oslib.h.osf32
o.main:	OSLib:oslib.h.osspriteop
o.main:	OSLib:oslib.h.font
o.main:	OSLib:oslib.h.wimp32
o.main:	OSLib:oslib.h.toolbox
o.main:	OSLib:oslib.h.messagetrans
o.main:	OSLib:oslib.h.dcs
o.main:	OSLib:oslib.h.window
o.main:	OSLib:oslib.h.keyboardshortcut
o.main:	OSLib:oslib.h.gadget
o.main:	OSLib:oslib.h.quit
o.main:	h.main
o.main:	h.event
o.main:	h.events
o.main:	h.loadsave
o.main:	h.fontwin
o.main:	OSLib:oslib.h.zapredraw
o.main:	h.editwin
o.main:	h.error
o.main:	h.drag
o.main:	h.ops
o.fontwin:	c.fontwin
o.fontwin:	h.logmem
o.fontwin:	C:h.kernel
o.fontwin:	OSLib:oslib.h.os
o.fontwin:	OSLib:oslib.h.types
o.fontwin:	OSLib:oslib.h.oscore32
o.fontwin:	OSLib:oslib.h.osf32
o.fontwin:	OSLib:oslib.h.osbyte
o.fontwin:	OSLib:oslib.h.wimp
o.fontwin:	OSLib:oslib.h.osspriteop
o.fontwin:	OSLib:oslib.h.font
o.fontwin:	OSLib:oslib.h.wimp32
o.fontwin:	OSLib:oslib.h.wimpextend
o.fontwin:	OSLib:oslib.h.toolbox
o.fontwin:	OSLib:oslib.h.messagetrans
o.fontwin:	OSLib:oslib.h.window
o.fontwin:	OSLib:oslib.h.keyboardshortcut
o.fontwin:	OSLib:oslib.h.gadget
o.fontwin:	OSLib:oslib.h.numberrange
o.fontwin:	OSLib:oslib.h.menu
o.fontwin:	OSLib:oslib.h.zapredraw
o.fontwin:	h.event
o.fontwin:	h.events
o.fontwin:	h.error
o.fontwin:	h.strings
o.fontwin:	h.loadsave
o.fontwin:	h.fontwin
o.fontwin:	OSLib:oslib.h.zapredraw
o.fontwin:	h.editwin
o.fontwin:	h.drag
o.editwin:	c.editwin
o.editwin:	h.logmem
o.editwin:	C:h.kernel
o.editwin:	OSLib:oslib.h.os
o.editwin:	OSLib:oslib.h.types
o.editwin:	OSLib:oslib.h.oscore32
o.editwin:	OSLib:oslib.h.osf32
o.editwin:	OSLib:oslib.h.wimp
o.editwin:	OSLib:oslib.h.osspriteop
o.editwin:	OSLib:oslib.h.font
o.editwin:	OSLib:oslib.h.wimp32
o.editwin:	OSLib:oslib.h.colourtrans
o.editwin:	OSLib:oslib.h.coltrans32
o.editwin:	OSLib:oslib.h.toolbox
o.editwin:	OSLib:oslib.h.messagetrans
o.editwin:	OSLib:oslib.h.window
o.editwin:	OSLib:oslib.h.keyboardshortcut
o.editwin:	OSLib:oslib.h.gadget
o.editwin:	OSLib:oslib.h.numberrange
o.editwin:	OSLib:oslib.h.zapredraw
o.editwin:	h.event
o.editwin:	h.events
o.editwin:	h.strings
o.editwin:	h.error
o.editwin:	h.loadsave
o.editwin:	h.editwin
o.editwin:	h.fontwin
o.editwin:	OSLib:oslib.h.zapredraw
o.ops:	c.ops
o.ops:	h.logmem
o.ops:	OSLib:oslib.h.os
o.ops:	OSLib:oslib.h.types
o.ops:	OSLib:oslib.h.oscore32
o.ops:	OSLib:oslib.h.osf32
o.ops:	OSLib:oslib.h.wimp
o.ops:	OSLib:oslib.h.osspriteop
o.ops:	OSLib:oslib.h.font
o.ops:	OSLib:oslib.h.wimp32
o.ops:	OSLib:oslib.h.toolbox
o.ops:	OSLib:oslib.h.messagetrans
o.ops:	h.event
o.ops:	h.events
o.ops:	h.loadsave
o.ops:	h.fontwin
o.ops:	OSLib:oslib.h.zapredraw
o.ops:	h.editwin
o.loadsave:	c.loadsave
o.loadsave:	h.logmem
o.loadsave:	C:h.kernel
o.loadsave:	OSLib:oslib.h.os
o.loadsave:	OSLib:oslib.h.types
o.loadsave:	OSLib:oslib.h.oscore32
o.loadsave:	OSLib:oslib.h.osf32
o.loadsave:	OSLib:oslib.h.osfile
o.loadsave:	OSLib:oslib.h.fileswitch
o.loadsave:	OSLib:oslib.h.fileswch32
o.loadsave:	OSLib:oslib.h.wimp
o.loadsave:	OSLib:oslib.h.osspriteop
o.loadsave:	OSLib:oslib.h.font
o.loadsave:	OSLib:oslib.h.wimp32
o.loadsave:	OSLib:oslib.h.toolbox
o.loadsave:	OSLib:oslib.h.messagetrans
o.loadsave:	OSLib:oslib.h.saveas
o.loadsave:	OSLib:oslib.h.window
o.loadsave:	OSLib:oslib.h.keyboardshortcut
o.loadsave:	OSLib:oslib.h.gadget
o.loadsave:	OSLib:oslib.h.numberrange
o.loadsave:	OSLib:oslib.h.zapredraw
o.loadsave:	h.main
o.loadsave:	h.event
o.loadsave:	h.events
o.loadsave:	h.error
o.loadsave:	h.strings
o.loadsave:	h.loadsave
o.loadsave:	h.fontwin
o.loadsave:	OSLib:oslib.h.zapredraw
