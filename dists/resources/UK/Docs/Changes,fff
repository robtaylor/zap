Changes file for Zap 1.45
=========================

Darren Salt

 - !Config file stores file format, allowing automatic updating when new features
   are added
 - directory finding support for FINDFILE[READONLY], [shift-]adjust-close.
 - internationalisation based on country, falling back through UK.
 - per-extension keymaps, named keymaps, and per-mode basemaps set using c-vars
 - 'clone' modes - identical functionality, but configured independently
 - definable menu help text
 - interactive help system improved
 - key bindings shown in menus change with basemap of the window
 - new DoubleWord and HalfWord modes
 - Throwback windows may be closed automatically when all links are deleted
 - Throwback colouring can now be configured by whatever created the throwback
   window, allowing more consistent colouring
 - Throwback: other colouring tweaks
 - Throwback: adjust on filename removes all entries for that file
 - BASIC, Taskwindow modes improved and stabilised
 - commands (mostly) each have their own argument/minibuffer history

 - File menus: long leafnames are truncated with an ellipsis
 - improved RISC OS 4 support
 - improvements to Code mode to handle some aspects of 32 bit code
 - Outline font menu generated by RISC OS >= 300 (so more consistent)
 - fancy print tweaked
 - INDENT, INDENTBY, OUTDENT affect the current line if no selection anywhere
 - MAKEDEFAULT improved (optionally sets defaults for either current or
   all modes)
 - CUT can optionally not add data to the yank buffer
 - New command extension, ZapBits, constructed out of ZapDS and ZapTMT. Remaining
   commands in ZapDS will probably go into ZapProg, which will also house the
   rewrites of the DWExt commands, once they get done.

 - OSCLI, CLI: redirection is placed before command
 - tab at EOL: cursor should no longer disappear
 - left margin redrawn if line numbers displayed in multiple views
 - dynamic areas and line editor buffers killed in module finalisation
   (hopefully can't fail any more)
 - read memory dbox: start==end closes dbox; start>end beeps
 - changing to the same mode does nothing (so selection, etc. preserved)
 - SWITCHTAB works again
 - Bug fixes to drag-selection
 - ClickSend unknown command bug fixed
 - '&' in config files now not interpreted as &0 if not followed by a hex digit
 - more string handling speed tweaks
 - ZapRedraw works with ViewFinder
 - various other bugfixes and improvements

James Aylett

 - configuration variables (c-vars) (per-mode textual settings; currently used
   only rarely, but will be increasingly important in the future). @GETVAR
   function to look them up, HELPVAR command to document them.
 - standardised extension directory structure

 - WRITEBUFFER command to "save a copy"
 - auto softwrap detection improved (works on the last line in the file), and
   sped up. Also uses configured return char rather than hard-coded to 0xa.
 - New MODENMENU command generated menu for given mode as a submenu. This allows for
   a more compact menu structure, if desired.
 - TotalSel uses the hourglass so you don't think it's crashed; and respects Escape
 - improved (depending on your point of view :-) cursor handling beyond EOF
 - uses SysLog for logging, if built in and enabled.
 - removed some unused code. Current module size is about 201K with debugging,
   compared to 182K for v1.40, 114K for v1.35 and v1.30, 101K for v1.10.
 - settings variable &322 executed on startup; opt_switches b31 => do this
   even when we're loading files on init. MISCOPS 19 configures this.
 - shift+alt+menu when there's a selection brings it up (otherwise alt+ action,
   ie Modes menu)
 - Throwback windows now have their title bars set to something useful
 - various extensions modified to support internationalisation

 - major bug fixes in memory and font handling
 - toggling DOS text / spool file now sets modified immediately
 - code mode search with 'comment free' now skips the comments
 - aborting a save routine will now always revert to the old filename
 - FORMATTEXT no longer stops on unbreakable lines
 - bug with building menus containing OUTDENT and INDENT fixed
 - DataSave correctly identifies untyped files
 - WRITEFILE put directory in minibuffer prompt not main buffer; fixed
 - window swap order bug fixed
 - DataSave via RAM transfer to Zap now sets cursor/grabs focus
 - QUICKPRINT now reads start and end lines from dbox immediately prior to printing.
   Previously things could be confusing because it would only do it when you moved
   between the fields in certain ways.
 - DataSaved message removed, since we were using it incorrectly, and no one seems
   to think it's terribly useful anyway
 - Some parts of Zap hadn't been updated to the new modified system. I think we've
   got them all now.
 - WC box bug fixed (could delete its window and then try to close it via
   Wimp_CreateMenu -1 - the Wimp appears to have a problem with this)
 - change cursor type updates immediately
 - Outline font leak fixed in ZapRedraw
 - RISC OS 4-style icons for !ZapFonts
 - various other bugfixes and improvements

Christian Ludlam
 - help on commands also lists the (primary) key binding
 - minibuffer scrolling redraw fixed
 - custom background tiles for dboxes
 - various bugfixes to core and extensions
 - considerable tidying up of extension source code

Dan Ellis
 - bug fix to non-zero pollword handling 

Chris Lund
 - various bugfixes
 
Richard Atterer and Detlef Thielsch
 - resources for the core, for Germany
 
Jérôme Mathevet and Benoit Gilon
 - resources for the core and for several extensions, for France

Paul Nolan
 - RISC OS 4-style icons for !Zap
