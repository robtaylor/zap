# Make file for Zap Text Editor
# using freeware tools make, AS, DRLink
# (c) Darren Salt

OBJECTS1	= o.dispatch o.modulebits o.redraw o.template
OBJECTS2	= o.cursors o.createwind o.altertxt o.search o.commands o.execute o.update
OBJECTS3	= o.mode0 o.mode1 o.mode2 o.mode3 o.mode4 o.mode4dis o.modebits o.mode11 o.softwrap
OBJECTS4	= o.keybits o.strings o.createfile o.undo o.menus
OBJECTS5	= o.minibuff o.startcode o.startup o.heap o.boxes o.fonts o.exceptions
OBJECTS		= o.objects1 o.objects2 o.objects3 o.objects4 o.objects5

TARGET		= Zap
ZapS		= <ZapSource$$Dir>
link		= drlink
linkPartFlags	= -aof
linkFlags	= -bin -b &00000000
as		= as
asFlags		= -throwback -nolocal -objasm -upper


Zap:		$(OBJECTS)
		$(link) $(linkFlags) -o $(TARGET) $(OBJECTS)
		Settype $(ZapS).$(TARGET) Module
		Run $(ZapS).data.MCopy $(ZapS).$(TARGET) ZapCode:Zap
		@Echo Finished

o.objects1:	$(OBJECTS1)
		$(link) $(linkPartFlags) -o o.objects1 $(OBJECTS1)

o.objects2:	$(OBJECTS2)
		$(link) $(linkPartFlags) -o o.objects2 $(OBJECTS2)

o.objects3:	$(OBJECTS3)
		$(link) $(linkPartFlags) -o o.objects3 $(OBJECTS3)

o.objects4:	$(OBJECTS4)
		$(link) $(linkPartFlags) -o o.objects4 $(OBJECTS4)

o.objects5:	$(OBJECTS5)
		$(link) $(linkPartFlags) -o o.objects5 $(OBJECTS5)

o.exceptions: s.exceptions \
	h.ModuleBits h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.StartUp h.Strings h.Startcode
	$(as) $(asFlags) -To o.exceptions -From s.exceptions

o.dispatch: s.dispatch
	$(as) $(asFlags) -To o.dispatch -From s.dispatch

o.minibuff: s.minibuff \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.CreateFile h.Heap h.Strings h.Template h.CreateWind h.Cursors h.Commands h.StartCode
	$(as) $(asFlags) -To o.minibuff -From s.minibuff

o.startcode: s.startcode \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.StartUp h.ModeBits h.Menus h.Heap h.Template h.Createfile h.Strings h.Minibuff h.CreateWind h.Cursors h.Keybits h.Menus h.Redraw h.Altertxt h.Exceptions h.TMTVars
	$(as) $(asFlags) -To o.startcode -From s.startcode

o.startup: s.startup \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Heap h.Redraw h.KeyBits h.ModeBits h.Createfile h.Strings
	$(as) $(asFlags) -To o.startup -From s.startup

o.heap: s.heap \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros
	$(as) $(asFlags) -To o.heap -From s.heap

o.boxes: s.boxes \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Strings h.CreateFile h.CreateWind h.Heap h.KeyBits h.Menus h.Startcode h.Undo h.ModeBits h.Minibuff h.Cursors h.Template h.TMTVars h.Search h.Redraw
	$(as) $(asFlags) -To o.boxes -From s.boxes

o.fonts: s.fonts \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Heap h.Strings h.CreateWind h.TMTVars h.CreateFile
	$(as) $(asFlags) -To o.fonts -From s.fonts

o.mode1: s.mode1 \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Mode0 h.Commands h.AlterTxt h.Cursors h.Modebits h.Redraw h.Strings h.Mode2 h.Mode3
	$(as) $(asFlags) -To o.mode1 -From s.mode1

o.mode2: s.mode2 \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Mode0 h.Mode1 h.Mode4 h.AlterTxt h.ModeBits h.Redraw h.Strings h.Heap h.Commands h.KeyBits h.Cursors
	$(as) $(asFlags) -To o.mode2 -From s.mode2

o.mode3: s.mode3 \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Mode0 h.Mode1 h.AlterTxt h.ModeBits h.Redraw h.Cursors
	$(as) $(asFlags) -To o.mode3 -From s.mode3

o.mode4: s.mode4 \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Strings h.KeyBits h.Menus h.Mode0 h.Mode1 h.Mode2 h.AlterTxt h.ModeBits h.Commands h.Redraw h.AlterTxt h.ModuleBits h.Cursors h.Minibuff h.CreateWind h.Update h.TMTVars
	$(as) $(asFlags) -To o.mode4 -From s.mode4

o.mode4dis: s.mode4dis \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.AlterTxt Data.clib_names
	$(as) $(asFlags) -To o.mode4dis -From s.mode4dis

o.modebits: s.modebits \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Fonts h.Mode0 h.CreateFile h.CreateWind h.Search h.Strings h.Redraw h.Heap h.Altertxt h.commands h.TMTVars h.Mode4
	$(as) $(asFlags) -To o.modebits -From s.modebits

o.mode11: s.mode11 \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Strings h.CreateWind h.CreateFile h.AlterTxt h.Heap h.Redraw h.Commands
	$(as) $(asFlags) -To o.mode11 -From s.mode11

o.softwrap: s.softwrap \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Heap h.ModeBits h.Redraw h.Cursors h.Mode0
	$(as) $(asFlags) -To o.softwrap -From s.softwrap

o.keybits: s.keybits \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Strings h.CreateFile h.Heap h.Menus h.Commands h.ModeBits h.Minibuff h.Cursors h.Template h.TMTVars
	$(as) $(asFlags) -To o.keybits -From s.keybits

o.strings: s.strings \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Heap
	$(as) $(asFlags) -To o.strings -From s.strings

o.createfile: s.createfile \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Template h.KeyBits h.Cursors h.Heap h.ModeBits h.AlterTxt h.Strings h.CreateWind h.Cursors h.Undo h.Redraw
	$(as) $(asFlags) -To o.createfile -From s.createfile

o.undo: s.undo \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.TMTVars h.AlterTxt h.CreateFile h.Heap
	$(as) $(asFlags) -To o.undo -From s.undo

o.menus: s.menus \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Cursors h.ModeBits h.Strings h.Heap h.CreateFile h.Template h.Commands h.Redraw h.Minibuff h.CreateWind h.Startup h.KeyBits h.ModuleBits h.Startcode
	$(as) $(asFlags) -To o.menus -From s.menus

o.search: s.search \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Template h.Heap h.Strings h.ModeBits h.CreateWind h.CreateFile h.Cursors h.AlterTxt h.Minibuff h.Commands h.Redraw h.KeyBits
	$(as) $(asFlags) -To o.search -From s.search

o.commands: s.commands \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Template h.CreateWind h.KeyBits h.Minibuff h.Heap h.ModeBits h.Cursors h.AlterTxt h.Search h.CreateFile h.Undo h.Redraw h.Strings h.Menus h.Startup h.Startcode h.ModuleBits h.Fonts h.Mode2 h.Mode4 h.Mode11 h.Update h.TMTVars
	$(as) $(asFlags) -To o.commands -From s.commands

o.update: s.update \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.AlterTxt h.Heap h.ModeBits h.Redraw h.CreateWind h.Cursors h.Mode0
	$(as) $(asFlags) -To o.update -From s.update

o.mode0: s.mode0 \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Commands h.AlterTxt h.StartCode h.Heap h.ModeBits h.Redraw h.Cursors h.Template h.Mode1 h.SoftWrap h.TMTVars
	$(as) $(asFlags) -To o.mode0 -From s.mode0

o.createwind: s.createwind \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Template h.Heap h.CreateFile h.ModeBits h.Cursors h.Redraw h.MiniBuff h.KeyBits h.Strings h.StartCode h.Strings h.Update h.Commands h.TMTVars
	$(as) $(asFlags) -To o.createwind -From s.createwind

o.altertxt: s.altertxt \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Heap h.Strings h.Cursors h.ModeBits h.Undo h.CreateFile h.CreateWind h.Redraw h.Mode0 h.MiniBuff h.SoftWrap h.Startcode h.Update
	$(as) $(asFlags) -To o.altertxt -From s.altertxt

o.template: s.template \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.CreateFile h.CreateWind h.AlterTxt h.Strings h.Heap h.ModuleBits h.MiniBuff h.Cursors h.Redraw h.ModeBits h.KeyBits h.Menus h.Undo h.Search h.StartCode h.Boxes h.TMTVars
	$(as) $(asFlags) -To o.template -From s.template

o.cursors: s.cursors \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Heap h.Redraw h.CreateWind h.ModeBits h.KeyBits h.MiniBuff h.AlterTxt h.Strings h.StartCode h.Commands h.CreateFile h.TMTVars
	$(as) $(asFlags) -To @.o.cursors -From @.s.cursors

o.modulebits: s.modulebits \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Strings h.Dispatch h.Mode0 h.Mode1 h.Mode2 h.Mode3 h.Mode4 h.ModeBits h.StartCode h.Commands h.Heap
	$(as) $(asFlags) -To o.modulebits -From s.modulebits

o.redraw: s.redraw \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.MiniBuff h.Heap h.ModeBits h.Strings h.Cursors h.CreateWind h.CreateFile h.AlterTxt h.Fonts h.TMTVars h.Keybits h.SoftWrap
	$(as) $(asFlags) -To o.redraw -From s.redraw

o.execute: s.execute \
	h.ZapHeader h.System h.ZapLibrary h.ZapVars h.Macros h.Template h.CreateWind h.KeyBits h.Minibuff h.Heap h.ModeBits h.Cursors h.AlterTxt h.Search h.CreateFile h.Undo h.Redraw h.Strings h.Menus h.Startup h.Startcode h.ModuleBits h.Fonts h.Mode1 h.Mode2 h.Mode4 h.Mode11 h.Update h.TMTVars h.Boxes h.Commands
	$(as) $(asFlags) -To o.execute -From s.execute

